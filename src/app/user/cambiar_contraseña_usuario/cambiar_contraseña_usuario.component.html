<header id="header" class="fixed-top">
  <div style="display: flex; justify-content: space-between;">
    <img class="volver_boton" src="../../../assets/images/voler_boton.png" onclick="window.history.back();" />
    <h4><a style="color: #080808" routerLink="/">MONOPOLY VERSIÓN INFORMÁTICA</a></h4>
    <img class="inicio_boton" src="../../../assets/images/home_boton.png" routerLink="/">
  </div>
  <div style="text-align: center;">
    <h4><a style="color: #080808">Cambio contraseña usuario</a></h4>
  </div>
</header>

<body>

  <div class="row">
    <div class="col-md-4 col-xl-1">
    
      <div class="card-header">
        <b><h5 class="card-title mb-0">Ajustes de usuario</h5></b>
      </div>
      <div class="list-group list-group-flush" role="tablist">
        <a class="list-group-item list-group-item-action" data-toggle="list" role="tab" routerLink="/ajustes_usuario"> Perfil del usuario </a> 
        <a class="list-group-item list-group-item-action" data-toggle="list" role="tab" routerLink="/cambiar_username"> Cambiar nombre de usuario </a> 
        <a class="lista-group-item lista-group-item-action active" data-toggle="list" role="tab" > Cambiar contraseña </a>
        <a class="list-group-item list-group-item-action" data-toggle="list" role="tab" routerLink="/cambiar_correo"> Cambiar correo electrónico </a>
        <a class="list-group-item list-group-item-action" data-toggle="list"  role="tab" routerLink="/cerrar_sesion"> Cerrar sesión </a> 
        <a class="list-group-item list-group-item-action" data-toggle="list" role="tab" routerLink="/delete_user"> Eliminar cuenta </a>   
      </div>
  
    </div>

    <div class="col-md-4 col-xl-1">

      <div class="card">
        <div class="card-header">
          <h5 class="card-title mb-0">CAMBIO CONTRASEÑA</h5>
        </div>
        <div class="card-body">
          <div *ngIf="!mensajeCambiado">
            <form [formGroup]="form" (ngSubmit)="guardar_cambio_password()"  class="form">
              <p><b>Introduzca la contraseña nueva</b></p>
              <!--------------------campo comtraseña usuario-------------------->
              <div class="formulario-nombre-usuario" >
                <div class="input-campo">
                  <input type="{{ passwordShow ? 'text' : 'password' }}" formControlName="password" id="password" name="password" placeholder="escribe la contraseña" class="formulario-nombre-usuario-input"/>
                  <i class="bi bi-eye" (click)="passwordMostrarOcultar()" [ngClass]="{'bi-eye-slash': passwordShow, 'bi-eye': !passwordShow}"></i>
                </div>
                <div *ngIf="form?.get('password')?.invalid && (form?.get('password')?.dirty || form?.get('password')?.touched)">
                  <div *ngIf="form?.get('password')?.errors?.['required']" style="color: red;">Este campo es obligatorio</div>
                  <div *ngIf="form?.get('password')?.errors?.['minlength']" style="color: red;">La contraseña debe tener al menos 8 caracteres</div>
                </div>
              </div>
              <p><b>repita la contraseña</b></p>
              <!--------------------campo confirmación constraseña usuario-------------------->
              <div class="formulario-nombre-usuario" >
                <div class="input-campo">
                  <input type="{{ confirmPasswordShow ? 'text' : 'password' }}" formControlName="confirm_password" id="confirm_password" name="confirm_password" placeholder="repita la contraseña" class="formulario-nombre-usuario-input"/>
                  <i class="bi bi-eye" (click)="confirmPasswordMostrarOcultar()" [ngClass]="{'bi-eye-slash': confirmPasswordShow, 'bi-eye': !confirmPasswordShow}"></i>
                </div>
                <div *ngIf="confirm_password?.touched && confirm_password?.errors">
                  <div *ngIf="form?.get('confirm_password')?.errors?.['required']" style="color: red;">Este campo es obligatorio</div>
                  <div *ngIf="confirm_password?.errors?.['oneOf']" style="color: red;">Las contraseñas deben coincidir</div>
                </div>
              </div>
              <br><br>
              <div class="opciones">
                <button class="boton_si" type="submit">Guardar</button>
                <button class="boton_no" onclick="window.history.back();">Cancelar</button>
              </div>
            </form>
          </div>
          <div *ngIf="mensajeCambiado">
            <p><b>CONTRASEÑA CAMBIADA CON ÉXITO</b></p>
            <div style="text-align: center;"><button (click)="pulsarBoton()" class="boton_cambiar_contraseña_de_nuevo" >Cambiar contraseña de nuevo</button></div>
          </div>
          
          

        </div>
      </div>  

    </div> 

  </div>
</body>
